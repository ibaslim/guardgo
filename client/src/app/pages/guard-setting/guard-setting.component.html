<div class="w-full px-4 py-8 sm:px-6 lg:px-8">
    <div class="max-w-4xl mx-auto space-y-6">
        <h1 class="text-2xl sm:text-xl font-bold text-gray-900 dark:text-gray-100">Guard Profile</h1>

        <form (ngSubmit)="submitGuardForm()" class="space-y-6">
            <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/60 shadow-sm p-6 space-y-6">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Basic Info</h2>
                    <p class="text-sm sm:text-xs text-gray-500 dark:text-gray-400 mt-1 sm:mt-0">Who you are and how we
                        reach you.</p>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
                    <div class="flex flex-col">
                        <app-base-input label="Full Name" name="name" [(ngModel)]="guardFormModel.name"
                            [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.name"></app-error-message>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="Contact Number" name="contactNumber" type="tel"
                            [(ngModel)]="guardFormModel.contact" [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.contact"></app-error-message>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="Date of Birth" name="dateOfBirth" type="date"
                            [(ngModel)]="guardFormModel.dob" [required]="true"></app-base-input>
                        <p class="text-xs sm:text-xs text-gray-500 mt-2">Format: YYYY-MM-DD</p>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="Operational Radius (miles)" name="operationalRadius" type="number"
                            [(ngModel)]="guardFormModel.operationalRadius"></app-base-input>
                        <p class="text-xs sm:text-xs text-gray-500 mt-2">Leave blank if you are location-flexible.</p>
                        <app-error-message [errorMessage]="guardErrors.operationalRadius"></app-error-message>
                    </div>
                </div>
            </section>

            <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/60 shadow-sm p-6 space-y-6">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Home Address</h2>
                    <p class="text-sm sm:text-xs text-gray-500 dark:text-gray-400 mt-1 sm:mt-0">Used to align nearby
                        shifts.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="flex flex-col">
                        <app-base-input label="Street Address" name="addressStreet"
                            [(ngModel)]="guardFormModel.address.street" [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.addressStreet"></app-error-message>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="City" name="addressCity" [(ngModel)]="guardFormModel.address.city"
                            [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.addressCity"></app-error-message>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="Country" name="addressCountry"
                            [(ngModel)]="guardFormModel.address.country" [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.addressCountry"></app-error-message>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="Postal Code" name="addressPostalCode"
                            [(ngModel)]="guardFormModel.address.postalCode" [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.addressPostalCode"></app-error-message>
                    </div>
                </div>
            </section>

            <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/60 shadow-sm p-6 space-y-6">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Identification</h2>
                    <p class="text-sm sm:text-xs text-gray-500 dark:text-gray-400 mt-1 sm:mt-0">We verify identity
                        before approving
                        shifts.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="flex flex-col">
                        <app-base-input label="ID Type" name="idType" [(ngModel)]="guardFormModel.identification.idType"
                            [required]="true"></app-base-input>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="ID Number" name="idNumber"
                            [(ngModel)]="guardFormModel.identification.idNumber" [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.idNumber"></app-error-message>
                    </div>

                    <div class="flex flex-col md:col-span-2">
                        <app-file-upload label="ID Document" name="idDocument"
                            [(ngModel)]="guardFormModel.identification.document" helperText="PNG, JPG, PDF up to 10MB"
                            [required]="false"></app-file-upload>
                        <p class="text-xs sm:text-xs text-gray-500 mt-2">Optional, but speeds verification.</p>
                    </div>
                </div>
            </section>

            <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/60 shadow-sm p-6 space-y-6">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Security License</h2>
                    <p class="text-sm sm:text-xs text-gray-500 dark:text-gray-400 mt-1 sm:mt-0">Required for active
                        duty.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="flex flex-col">
                        <app-base-input label="License Number" name="licenseNumber"
                            [(ngModel)]="guardFormModel.securityLicense.licenseNumber"
                            [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.licenseNumber"></app-error-message>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="Issuing Authority" name="issuingAuthority"
                            [(ngModel)]="guardFormModel.securityLicense.issuingAuthority"
                            [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.issuingAuthority"></app-error-message>
                    </div>

                    <div class="flex flex-col">
                        <app-base-input label="Expiry Date" name="expiryDate" type="date"
                            [(ngModel)]="guardFormModel.securityLicense.expiryDate" [required]="true"></app-base-input>
                        <app-error-message [errorMessage]="guardErrors.expiryDate"></app-error-message>
                    </div>

                    <div class="flex flex-col md:col-span-2">
                        <app-file-upload label="License Document" name="licenseDocument"
                            [(ngModel)]="guardFormModel.securityLicense.document" helperText="PNG, JPG, PDF up to 10MB"
                            [required]="false"></app-file-upload>
                        <p class="text-xs sm:text-xs text-gray-500 mt-2">Optional, upload now to avoid later holds.</p>
                    </div>
                </div>
            </section>

            <section
                class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/60 shadow-sm p-4 sm:p-6 space-y-4 sm:space-y-6">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Weekly Availability</h2>
                    <p class="text-sm sm:text-xs text-gray-500 dark:text-gray-400 mt-1 sm:mt-0">Set preferred shift
                        windows.</p>
                </div>
                <app-weekly-availability label="Weekly Availability" name="availability"
                    [(ngModel)]="guardFormModel.weeklyAvailability"></app-weekly-availability>
                <app-error-message [errorMessage]="guardErrors.availability"></app-error-message>
            </section>

            <div *ngIf="guardErrors.submit"
                class="rounded-lg border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/40 p-4">
                <app-error-message [errorMessage]="guardErrors.submit"></app-error-message>
            </div>

            <div class="sticky bottom-0 left-0 right-0 z-10 px-4 sm:px-6">
                <div
                    class="rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-gray-900/80 backdrop-blur px-4 py-3 shadow-md">
                    <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
                        <p class="text-sm sm:text-xs text-gray-600 dark:text-gray-300">Save to continue onboarding.</p>
                        <div class="flex flex-col gap-3 md:flex-row md:justify-end">
                            <button *ngIf="!isEditMode" type="submit"
                                class="w-full md:w-auto py-3 px-5 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition">Submit</button>
                            <button *ngIf="isEditMode" type="submit"
                                class="w-full md:w-auto py-3 px-5 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition">Save
                                Changes</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>