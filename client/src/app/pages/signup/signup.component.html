<div class="bg-gray-50 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-white transition-colors duration-200">
<div class="login-page-container">
  <div class="login-form-side">
    <div class="header-links">
      <a href="https://drive.google.com/file/d/16NQysXxTdEg5Jx6KNok-rqHvdeM-YOJO/view?usp=sharing" target="_blank"
        class="header-link">Privacy Policy</a>
      <a href="https://orionintelligence.org/service/" target="_blank" class="header-link">Our Services</a>
      <a href="https://orionintelligence.org" target="_blank" class="header-link">About Us</a>
    </div>

    <div class="center-content-wrapper">
      <div class="login-content">
        <img src="assets/images/shared/orion-Intelligence-logo.svg" alt="logo" class="orion-logo" />
        <div class="login-heading">Sign Up to get started!</div>

        <form #signUpForm="ngForm" (ngSubmit)="onSubmit(signUpForm)" class="login-form">
          <label class="input-label">Username</label>
          <div class="input-with-icon">
            <img src="/assets/images/shared/profile-icon-dark.svg" alt="profile icon" class="input-icon" />
            <input [(ngModel)]="user.username" placeholder="Enter your username" class="login-input" name="username"
              required type="text" />
          </div>

          <div class="username-suggestion" *ngIf="usernameSuggestion">
            <div class="suggestion-title">Username already taken, suggested usernames below</div>
            <div class="suggestion-list">
              {{ usernameSuggestion.replace('Username already taken. Suggested usernames: ', '') }}
            </div>
          </div>

          <label class="input-label mt-2">Company Mail</label>
          <div class="input-with-icon">
            <img src="/assets/images/shared/email.svg" alt="profile icon" class="input-icon" />
            <input [(ngModel)]="user.mail" placeholder="Enter your company mail" class="login-input" name="companymail"
              required type="email" />
          </div>

          <label class="input-label mt-2 ">Password</label>
          <div class="input-with-icon mb-4">
            <img src="/assets/images/shared/lock.svg" alt="profile icon" class="input-icon" />
            <input [(ngModel)]="user.password" (input)="onPasswordInput(user.password)" id="id_password"
              type="password" placeholder="Enter your password" class="login-input" name="password" required />
          </div>

          <div *ngIf="showPasswordMeter">
            <div class="password-strength-bar">
              <div class="strength-fill" [ngClass]="{
                'bg-danger bg-opacity-50': passwordStrength === 'weak',
                'bg-warning bg-opacity-50': passwordStrength === 'medium',
                'bg-success bg-opacity-50': passwordStrength === 'strong'
              }" [style.width.%]="passwordStrength === 'weak' ? 33 : passwordStrength === 'medium' ? 66 : 100"></div>
            </div>
            <ul class="password-checklist">
              <li *ngIf="currentUnmetCheck">{{ currentUnmetCheck }}</li>
            </ul>
          </div>

          <div *ngIf="errorMessage"
               class="d-inline-block mt-2 px-3 py-2 rounded-lg bg-danger bg-opacity-75 text-white shadow-sm text-center">
            <i class="bi bi-exclamation-diamond-fill me-2"></i>
            {{ errorMessage }}
          </div>

          <div>
            <input [disabled]="!signUpForm.valid || !allPasswordRequirementsMet"
              [class.login-button]="signUpForm.valid && allPasswordRequirementsMet"
              [class.login-button-disable]="!signUpForm.valid || !allPasswordRequirementsMet" type="submit"
              value="Sign Up" />
          </div>
        </form>

        <p class="signup-text">
          Already have an account? <span (click)="goToLogin()" class="signup-link cursor-pointer"> Login</span>
        </p>
      </div>
    </div>

    <div class="footer-copyright">
      <p>Copyright &copy; 2025. Powered by</p>
      <p>{{ this.appService.getConfig().appSettings.app_name }}</p>
    </div>
  </div>

  <div class="dashboard-preview-side">
    <img src="/assets/images/shared/auth_dashboard_icon.svg" alt="Dashboard Preview" class="dashboard-visual" />
  </div>
</div>
</div>
