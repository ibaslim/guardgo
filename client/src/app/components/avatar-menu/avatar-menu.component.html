<div class="relative user-menu-container avatar" (click)="$event.stopPropagation()">
  <button type="button"
    class="flex items-center gap-3 rounded-full focus:outline-none group bg-transparent border-none p-0"
    (click)="toggleMenu($event)">
    <app-avatar class="avatar" [name]="displayName" [src]="avatar || undefined"></app-avatar>
    <div class="hidden sm:flex flex-col text-left">
      <span class="font-medium text-gray-900 dark:text-gray-100 text-sm">{{ displayName }}</span>
      <span class="text-xs text-gray-500 dark:text-gray-400">{{ email || 'â€”' }}</span>
    </div>
    <svg class="w-4 h-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300" fill="none"
      stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </button>
  <div *ngIf="showUserMenu"
    class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded shadow-lg ring-1 ring-black ring-opacity-5 z-50">
    <div class="py-2">
      <button type="button" (click)="goProfile()"
        class="block w-full text-left px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">Profile</button>
      <button type="button" (click)="goSettings()"
        class="block w-full text-left px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">User Settings</button>
      <button type="button" (click)="goDashboard()"
        class="block w-full text-left px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">Dashboard</button>
      <button type="button" (click)="logout()"
        class="block w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 dark:hover:bg-gray-700">Logout</button>
    </div>
  </div>
</div>
